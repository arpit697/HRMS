"use strict";(self.webpackChunkHRMS_Appinventiv=self.webpackChunkHRMS_Appinventiv||[]).push([[4403],{638:(k,f,n)=>{n.d(f,{P:()=>i});const i={toolbar:[{name:"document",items:["Print"]},{name:"clipboard",items:["Undo","Redo"]},{name:"styles",items:["Styles","Format"]},{name:"basicstyles",items:["Bold","Italic","Strike","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote"]},{name:"links",items:["Link","Unlink"]},{name:"insert",items:["Image","Table","HorizontalRule"]},{name:"tools",items:["Maximize"]},{name:"editing",items:["Scayt"]},{name:"mode",items:["Source"]}]}},1498:(k,f,n)=>{n.d(f,{t:()=>i});const i={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^[^\s]+$/,name:/^[^-`@~\s][a-zA-Z\s-]+$/,last_name:/^[A-Za-z'-]+$/,phone:"^[0-9]+$",price:/(^[0][1-9]+)|([1-9]\d*)+$/,passRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#~^"])[A-Za-z\d@$!%*?&#~^"]{8,}$/,string:/(.|\s)*\S(.|\s)*/,alphaNumeric:/[^a-z\d]/,phoneNumber:/^[1-9][0-9]*$/,address:/^[a-zA-Z0-9\s\-\#\.\,]+$/,skill:/^.{0,500}$/}},4403:(k,f,n)=>{n.r(f),n.d(f,{MyTicketsModule:()=>v});var i=n(6895),c=n(9116),m=n(9927),I=n(638),g=n(3741),C=n(4027),d=n(5412),t=n(4650),l=n(3546),r=n(4859);class s{constructor(a,e){this.dialogRef=a,this.data=e}confirmationHandler(){this.dialogRef.close(this.data)}close(){this.dialogRef.close()}}s.\u0275fac=function(a){return new(a||s)(t.Y36(d.so),t.Y36(d.WI))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-remove-record-dialog"]],decls:12,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"warning"],[1,"jc-center","g-05"],["mat-raised-button","",1,"button-cancel",3,"click"],["mat-raised-button","",1,"button-primary",3,"click"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Delete Record"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",2)(5,"p",3),t._uU(6,"Record deleted can't be restored!!!"),t.qZA(),t.TgZ(7,"mat-card-actions",4)(8,"button",5),t.NdJ("click",function(){return e.close()}),t._uU(9," Close "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return e.confirmationHandler()}),t._uU(11," Confirm "),t.qZA()()()())},dependencies:[l.hq,r.lW],styles:[".card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px;box-shadow:0 0 5px #ccc}.card-header[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:20px;padding-right:500px}.card-body[_ngcontent-%COMP%]{margin:20px}.warning[_ngcontent-%COMP%]{color:red;font-size:20px;margin-bottom:20px}@media only screen and (max-width: 768px){.card-header[_ngcontent-%COMP%]{padding-right:100px}}@media only screen and (max-width: 480px){.card-header[_ngcontent-%COMP%]{padding-right:40px}}"]});var b=n(2401),p=n(4006),L=n(7913),O=n(5786),M=n(7280),A=n(7084),Z=n(9549),x=n(4385),R=n(3238),D=n(284);function F(o,a){if(1&o&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e.department)}}function N(o,a){if(1&o&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function _(o,a){if(1&o&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function V(o,a){if(1&o&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}class T{constructor(a,e,u,y,$){this._dialog=a,this._formBuilder=e,this._utility=u,this._formValidation=y,this._router=$,this.tableColumns=[...g.zF],this.editorConfig={...I.P},this.tableData=[...g.GH],this.departmantCategories=m.xm,this.priorities=m.bV,this.content=""}ngOnInit(){this.createForm()}createForm(){this.ticketForm=this._formBuilder.group({ticket_code:[,[...this._formValidation.VALIDATION.required]],priority:[,[...this._formValidation.VALIDATION.required]],employee:[,[...this._formValidation.VALIDATION.required]],subject:[,[...this._formValidation.VALIDATION.required]],department:[,[...this._formValidation.VALIDATION.required]],categorie:[,[...this._formValidation.VALIDATION.required]],status:[,[...this._formValidation.VALIDATION.required]],ticket_detail:[,[...this._formValidation.VALIDATION.required]]})}submitHandler(){if(this.ticketForm.valid){let a={...this.ticketForm.value,first_button_icon:"arrow_circle_right",second_button_icon:"delete_forever",status:"Open",employee:"Arpit Dwivedi",date:this._utility.getCurrentDate(),ticket_code:this._utility.generateRandomNumber()};this.tableData.push(a),this._utility.bar("Leave Applied Successfully","","green-snackbar"),this.ticketForm.reset(),this.tableComponent.dataSource.data=this.tableData}else this._utility.bar(this._utility.formCheck(this.ticketForm),"","red-snackbar")}editDelete(a){"edit"==a.click_type&&this._router.navigate([b.TICKET_DETAILS.fullUrl,1]),"delete"==a.click_type&&this.deleteRecordDialog(a)}deleteRecordDialog(a){const e=this._dialog.open(s,{data:{...a}});e.disableClose=!1,e.afterClosed().subscribe(u=>{if(u){let y=this._utility.findIndexByPropertyValue(this.tableData,"ticket_code",u.ticket_code);this.tableData.splice(y,1),this.tableComponent.dataSource.data=this.tableData}})}ngAfterViewInit(){this.tableComponent.tableData=this.tableData}}T.\u0275fac=function(a){return new(a||T)(t.Y36(d.uw),t.Y36(p.qu),t.Y36(L.t),t.Y36(O.m),t.Y36(c.F0))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-my-tickets"]],viewQuery:function(a,e){if(1&a&&t.Gf(C.o,5),2&a){let u;t.iGM(u=t.CRH())&&(e.tableComponent=u.first)}},decls:46,vars:11,consts:[["hideToggle",""],[1,"table-title"],["mat-button","",1,"add-button"],[1,"expansion","p-24",3,"formGroup"],[1,"c-label"],["appearance","outline",1,"form-field"],["matInput","","formControlName","subject","type","text"],["formArrayName","department"],[3,"value",4,"ngFor","ngForOf"],["formControlName","categorie"],["formControlName","priority"],["formControlName","ticket_detail",3,"config"],["mat-raised-button","",1,"add",3,"click"],[1,"p-12",3,"tableColumns","tableData","TableClass","isPageable","isFilterable","clickHandler"],[3,"value"]],template:function(a,e){1&a&&(t.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title",1),t._uU(3," Create New Ticket "),t.qZA(),t.TgZ(4,"button",2),t._uU(5,"+ Add"),t.qZA()(),t.TgZ(6,"div")(7,"form",3)(8,"div")(9,"div")(10,"mat-card-subtitle",4),t._uU(11,"Subject"),t.qZA(),t.TgZ(12,"mat-form-field",5),t._UZ(13,"input",6),t.qZA()(),t.TgZ(14,"div")(15,"mat-card-subtitle",4),t._uU(16,"Department"),t.qZA(),t.TgZ(17,"mat-form-field",5)(18,"mat-select",7),t.YNc(19,F,2,2,"mat-option",8),t.qZA()()(),t.TgZ(20,"div")(21,"mat-card-subtitle",4),t._uU(22,"Ticket Category"),t.qZA(),t.TgZ(23,"mat-form-field",5)(24,"mat-select",9),t.YNc(25,N,2,2,"mat-option",8),t.YNc(26,_,2,2,"mat-option",8),t.qZA()()(),t.TgZ(27,"div")(28,"mat-card-subtitle",4),t._uU(29,"Priority"),t.qZA(),t.TgZ(30,"mat-form-field",5)(31,"mat-select",10),t.YNc(32,V,2,2,"mat-option",8),t.qZA()()()(),t.TgZ(33,"div")(34,"mat-card-subtitle",4),t._uU(35,"Description"),t.qZA(),t._UZ(36,"ckeditor",11),t.qZA()(),t.TgZ(37,"mat-card-actions")(38,"button",12),t.NdJ("click",function(){return e.submitHandler()}),t._uU(39," Add "),t.qZA()()()(),t._UZ(40,"br")(41,"br"),t.TgZ(42,"mat-card")(43,"mat-card-title",1),t._uU(44," List All Tickets "),t.qZA(),t.TgZ(45,"app-ru-table",13),t.NdJ("clickHandler",function(y){return e.editDelete(y)}),t.qZA()()),2&a&&(t.xp6(7),t.Q6J("formGroup",e.ticketForm),t.xp6(12),t.Q6J("ngForOf",e.departmantCategories),t.xp6(6),t.Q6J("ngForOf",null==e.departmantCategories[0]?null:e.departmantCategories[0].category),t.xp6(1),t.Q6J("ngForOf",null==e.departmantCategories[1]?null:e.departmantCategories[1].category),t.xp6(6),t.Q6J("ngForOf",e.priorities),t.xp6(4),t.Q6J("config",e.editorConfig),t.xp6(9),t.Q6J("tableColumns",e.tableColumns)("tableData",e.tableData)("TableClass","ticket-table")("isPageable",!0)("isFilterable",!0))},dependencies:[i.sg,M.u,p._Y,p.Fj,p.JJ,p.JL,C.o,p.sg,p.u,p.CE,l.a8,l.hq,l.$j,l.n5,A.ib,A.yz,A.yK,r.lW,Z.KE,x.gD,R.ey,D.Nt],styles:[".expansion[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% auto;gap:1em}.expansion[_ngcontent-%COMP%]   .work-time[_ngcontent-%COMP%]{gap:1em}.expansion[_ngcontent-%COMP%]   .work-time[_ngcontent-%COMP%]   .flex-size[_ngcontent-%COMP%]{flex:1 0 calc(33.33% - 1em)}.add[_ngcontent-%COMP%]{background:#1da81b;border-radius:0!important;color:#fff}@media all and (max-width: 50em){.expansion[_ngcontent-%COMP%]{grid-template-columns:auto}}"]});const U=[{path:"",component:T}];class h{}h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[c.Bz.forChild(U),c.Bz]});var P=n(7392),z=n(6709),Y=n(1898);const q=[l.QW,A.To,P.Ps,r.ot,Z.lN,x.LD,D.c,z.p9,d.Is];class v{}v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=t.oAB({type:v}),v.\u0275inj=t.cJS({imports:[i.ez,h,M.d,p.u5,Y.E,p.UX,q]})},5786:(k,f,n)=>{n.d(f,{m:()=>g});var i=n(4006),c=n(1498);var I=n(4650);class g{constructor(){this.VALIDATION={emptyControl:[],required:[i.kI.required],name:[i.kI.required,i.kI.pattern(c.t.name),i.kI.minLength(3),i.kI.maxLength(80)],last_name:[i.kI.pattern(c.t.last_name)],address:[i.kI.pattern(c.t.address)],month:[],year:[],skill:[i.kI.maxLength(500)],phone:[i.kI.pattern(c.t.phoneNumber),i.kI.minLength(10),i.kI.maxLength(10)],email:[i.kI.required,i.kI.pattern(c.t.email),i.kI.maxLength(100)],password:[i.kI.required,i.kI.pattern(c.t.password),i.kI.minLength(8),i.kI.maxLength(15)],createPassword:[i.kI.required,i.kI.pattern(c.t.passRegex),i.kI.minLength(8),i.kI.maxLength(15)]}}minMaxDateValidator(d,t){return l=>{const r=l.value;return r&&(r<d||r>t)?{minMaxDateInvalid:{value:l.value}}:null}}birthdayValidator(d,t){return l=>{const r=new Date(l.value),s=new Date;let b=s.getFullYear()-r.getFullYear();return r.setFullYear(s.getFullYear()),r>s&&(r.setFullYear(s.getFullYear()-1),b--),b<d||b>t?{birthdayInvalid:{value:l.value}}:null}}numberRangeValidator(d,t){return l=>{const r=l.value;if(null==r||""===r)return null;const s=Number(r);return isNaN(s)||s<d||s>t?{numberRange:!0}:null}}dateRangeValidator(d){const t=d.get("date_from").value,l=d.get("date_to").value;return t&&l&&new Date(t)>new Date(l)?{invalidDateRange:!0}:null}}g.\u0275fac=function(d){return new(d||g)},g.\u0275prov=I.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}}]);