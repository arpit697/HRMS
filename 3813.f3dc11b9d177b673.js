"use strict";(self.webpackChunkHRMS_Appinventiv=self.webpackChunkHRMS_Appinventiv||[]).push([[3813],{1498:(A,g,e)=>{e.d(g,{t:()=>a});const a={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^[^\s]+$/,name:/^[^-`@~\s][a-zA-Z\s-]+$/,last_name:/^[A-Za-z'-]+$/,phone:"^[0-9]+$",price:/(^[0][1-9]+)|([1-9]\d*)+$/,passRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#~^"])[A-Za-z\d@$!%*?&#~^"]{8,}$/,string:/(.|\s)*\S(.|\s)*/,alphaNumeric:/[^a-z\d]/,phoneNumber:/^[1-9][0-9]*$/,address:/^[a-zA-Z0-9\s\-\#\.\,]+$/,skill:/^.{0,500}$/}},3813:(A,g,e)=>{e.r(g),e.d(g,{MyDsrModule:()=>C});var a=e(6895),r=e(9116),s=e(9927),f=e(638),c=e(2401),h=e(3741),u=e(4027),t=e(4650),l=e(4006),m=e(5786),p=e(9244),M=e(7913),I=e(7280),v=e(3546),_=e(9549),T=e(284),O=e(4385),P=e(3238),k=e(4859),x=e(7084),Z=e(9602),N=e(6709),F=e(6685),S=e(3814);function R(i,o){if(1&i&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&i){const n=o.$implicit;t.s9C("value",n),t.xp6(1),t.Oqu(n)}}function U(i,o){if(1&i&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&i){const n=o.$implicit;t.s9C("value",n),t.xp6(1),t.Oqu(n)}}function J(i,o){if(1&i&&(t.TgZ(0,"mat-form-field",11)(1,"mat-select",33)(2,"div",34)(3,"mat-form-field",35),t._UZ(4,"input",36,37),t.qZA()(),t.YNc(6,U,2,2,"mat-option",8),t.ALo(7,"optionsFilter"),t.qZA()()),2&i){const n=t.MAs(5),d=t.oxw().$implicit;t.xp6(1),t.s9C("formControlName",d.formControlName),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,d.dropDown,n))}}function j(i,o){if(1&i&&(t.TgZ(0,"mat-form-field",11),t._UZ(1,"input",38)(2,"mat-datepicker-toggle",13)(3,"mat-datepicker",null,39),t.qZA()),2&i){const n=t.MAs(4),d=t.oxw().$implicit;t.xp6(1),t.s9C("formControlName",d.formControlName),t.Q6J("matDatepicker",n),t.xp6(1),t.Q6J("for",n)}}function w(i,o){if(1&i&&(t.TgZ(0,"div",10)(1,"mat-card-subtitle",5),t._uU(2),t.qZA(),t.YNc(3,J,8,5,"mat-form-field",32),t.YNc(4,j,5,3,"mat-form-field",32),t.qZA()),2&i){const n=o.$implicit;t.xp6(2),t.Oqu(n.label),t.xp6(1),t.Q6J("ngIf","select"===n.type),t.xp6(1),t.Q6J("ngIf","datePicker"===n.type)}}class D{constructor(o,n,d,y,Q){this._route=o,this._formBuilder=n,this._formValidation=d,this._dataService=y,this._utility=Q,this.editorConfig={...f.P},this.tableColumns=[...h.ef],this.tableData=[...h.AA],this.projects=s.cD,this.submissionStatus=s.YZ,this.finalApproval=s.M$,this.workingHours=s.Bf,this.content="",this.panelOpenState=!1,this.filterValues=[],this.formFields=[{label:"From Date",formControlName:"start_date",type:"datePicker"},{label:"End Date",formControlName:"end_date",type:"datePicker"},{label:"Submission Date",formControlName:"submission_date",type:"select",dropDown:[...this.submissionStatus]},{label:"Project",formControlName:"project",type:"select",dropDown:[...this.projects]},{label:"Final Approval Status",formControlName:"status",type:"select",dropDown:[...this.finalApproval]},{label:"Hours",formControlName:"timing",type:"select",dropDown:[...this.workingHours]}]}ngOnInit(){this._dataService.dsrDetail=[...h.AA],this.createForm(),this.createFilterForm()}createForm(){this.dsrForm=this._formBuilder.group({project_name:[],date:[],login_hours:[],editor_text:[]})}createFilterForm(){this.filterForm=this._formBuilder.group({start_date:[""],end_date:[""],submission_date:[""],project:[""],status:[""],timing:[""]})}ngAfterViewInit(){this.tableComponent.tableData=this.tableData}reset(){this.filterForm.reset({start_date:[""],end_date:[""],submission_date:[""],project:[""],status:[""],timing:[""]}),this.search()}search(){let o=Object.values(this.filterForm.value).map(n=>String(n));console.log(o),this.tableComponent.applyFilter(o),this.tableComponent.dataSource.data=this.tableData}togglePanel(){this.panelOpenState=!this.panelOpenState}submitHandler(){if(this.dsrForm.valid){let o={...this.dsrForm.value,serial_number:this.tableData.length+1,emp_name:"Arpit Dwivedi",emp_id:"A123",email:"arp.d@pm.me",employment_type:"Full-time",date:this._utility.getCurrentDate(),pm_approval:"Pending",am_approval:"Approved",rm_approval:"Approved",final_approval:"Pending",status:"Pending",total_logged_hr:8,button_icon:"edit",action:""};this.tableData.push(o),this._dataService.dsrDetail.push(o),this._utility.bar("DSR Submitted Successfully","","green-snackbar"),this.dsrForm.reset(),this.tableComponent.dataSource.data=this.tableData}else this._utility.bar(this._utility.formCheck(this.dsrForm),"","red-snackbar")}viewDetails(o){this._route.navigate([c.MY_DSR.fullUrl,this._utility.generateRandomNumber(),o.date])}}D.\u0275fac=function(o){return new(o||D)(t.Y36(r.F0),t.Y36(l.qu),t.Y36(m.m),t.Y36(p.D),t.Y36(M.t))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-my-dsr"]],viewQuery:function(o,n){if(1&o&&t.Gf(u.o,5),2&o){let d;t.iGM(d=t.CRH())&&(n.tableComponent=d.first)}},decls:60,vars:15,consts:[["hideToggle","",3,"disabled","expanded"],[1,"table-title"],["mat-button","",1,"add-button",3,"click"],[1,"expansion","p-24",3,"formGroup"],[1,"project"],[1,"c-label"],["appearance","outline",1,"form-field"],["formControlName","project_name"],[3,"value",4,"ngFor","ngForOf"],[1,"work-time","flex","flex-wrap","ai-center"],[1,"flex-size"],["appearance","outline"],["formControlName","date","matInput","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["date",""],["formControlName","login_hours","matInput","",3,"ngxTimepicker"],["login_hours",""],[1,"example-margin"],["formControlName","editor_text",3,"config"],["mat-raised-button","",1,"add",3,"click"],[1,"p-24"],[3,"formGroup"],[1,"project-conteiner","flex","flex-wrap","ai-center"],["class","flex-size",4,"ngFor","ngForOf"],[1,"button-container","flex","g-1"],["mat-raised-button","",1,"button-primary",3,"click"],["mat-raised-button","",1,"button-cancel",3,"click"],[1,"worksheets"],["mat-button","",1,"refresh-button"],[1,"p-12"],[3,"tableColumns","tableData","isFilterable","isPageable","TableClass","clickHandler"],[3,"value"],["appearance","outline",4,"ngIf"],[3,"formControlName"],[1,"p-8"],["appearance","outline",1,"select-search-box"],["matInput",""],["inputRef",""],["readonly","","matInput","",3,"matDatepicker","formControlName"],["picker",""]],template:function(o,n){if(1&o&&(t.TgZ(0,"mat-expansion-panel",0)(1,"mat-expansion-panel-header")(2,"mat-panel-title",1),t._uU(3," Create New DSR "),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return n.togglePanel()}),t._uU(5,"+ Add"),t.qZA()(),t.TgZ(6,"div",3)(7,"div")(8,"div",4)(9,"mat-card-subtitle",5),t._uU(10,"Project"),t.qZA(),t.TgZ(11,"mat-form-field",6)(12,"mat-select",7),t.YNc(13,R,2,2,"mat-option",8),t.qZA()()(),t.TgZ(14,"div",9)(15,"div",10)(16,"mat-card-subtitle",5),t._uU(17,"Date"),t.qZA(),t.TgZ(18,"mat-form-field",11),t._UZ(19,"input",12)(20,"mat-datepicker-toggle",13)(21,"mat-datepicker",null,14),t.qZA()(),t.TgZ(23,"div",10)(24,"mat-card-subtitle",5),t._uU(25,"Estimated Hours"),t.qZA(),t.TgZ(26,"mat-form-field",11),t._UZ(27,"input",15)(28,"ngx-material-timepicker",null,16),t.qZA()(),t.TgZ(30,"div",10)(31,"mat-checkbox",17),t._uU(32,"No Work Done"),t.qZA()()()(),t.TgZ(33,"div")(34,"mat-card-subtitle",5),t._uU(35,"Description"),t.qZA(),t._UZ(36,"ckeditor",18),t.qZA(),t.TgZ(37,"mat-card-actions")(38,"button",19),t.NdJ("click",function(){return n.submitHandler()}),t._uU(39," Add "),t.qZA()()()(),t._UZ(40,"br")(41,"br"),t.TgZ(42,"mat-card",20)(43,"form",21)(44,"div",22),t.YNc(45,w,5,3,"div",23),t.TgZ(46,"div",24)(47,"button",25),t.NdJ("click",function(){return n.search()}),t._uU(48," Search "),t.qZA(),t.TgZ(49,"button",26),t.NdJ("click",function(){return n.reset()}),t._uU(50," Reset "),t.qZA()()()()(),t._UZ(51,"br"),t.TgZ(52,"mat-card",27)(53,"mat-card-title",1),t._uU(54,"List All Worksheets"),t.qZA(),t.TgZ(55,"mat-card-actions")(56,"button",28),t._uU(57,"Refresh"),t.qZA()(),t.TgZ(58,"mat-card-content",29)(59,"app-ru-table",30),t.NdJ("clickHandler",function(y){return n.viewDetails(y)}),t.qZA()()()),2&o){const d=t.MAs(22),y=t.MAs(29);t.Q6J("disabled",!0)("expanded",n.panelOpenState),t.xp6(6),t.Q6J("formGroup",n.dsrForm),t.xp6(7),t.Q6J("ngForOf",n.projects),t.xp6(6),t.Q6J("matDatepicker",d),t.xp6(1),t.Q6J("for",d),t.xp6(7),t.Q6J("ngxTimepicker",y),t.xp6(9),t.Q6J("config",n.editorConfig),t.xp6(7),t.Q6J("formGroup",n.filterForm),t.xp6(2),t.Q6J("ngForOf",n.formFields),t.xp6(14),t.Q6J("tableColumns",n.tableColumns)("tableData",n.tableData)("isFilterable",!0)("isPageable",!0)("TableClass","my-dsr")}},dependencies:[a.sg,a.O5,u.o,I.u,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,v.a8,v.hq,v.dn,v.$j,v.n5,_.KE,_.R9,T.Nt,O.gD,P.ey,k.lW,x.ib,x.yz,x.yK,Z.Mq,Z.hl,Z.nW,N.oG,F.ro,F.I2,S.B],styles:[".add-button[_ngcontent-%COMP%]{background:transparent;box-shadow:0 0 0 1px #26b4ff inset;color:#26b4ff!important;border-radius:0!important;height:1.5em;width:2em;padding:0}.expansion[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% auto;gap:1em}.expansion[_ngcontent-%COMP%]   .work-time[_ngcontent-%COMP%]{gap:1em}.expansion[_ngcontent-%COMP%]   .work-time[_ngcontent-%COMP%]   .flex-size[_ngcontent-%COMP%]{flex:1 0 calc(33.33% - 1em)}.expansion[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{background:#1da81b;border-radius:0!important;color:#fff}.project-conteiner[_ngcontent-%COMP%]{gap:1em}.project-conteiner[_ngcontent-%COMP%]   .flex-size[_ngcontent-%COMP%]{flex:1 0 calc(25% - 1em)}.project-conteiner[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{width:50%}.worksheets[_ngcontent-%COMP%]{border-radius:.3em!important}.worksheets[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{justify-content:flex-end}.worksheets[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{background:#28c3d7;color:#fff;border-radius:0!important;height:2em}@media all and (max-width: 50em){.expansion[_ngcontent-%COMP%]{grid-template-columns:auto}}  .mat-content{align-items:center}"]});const Y=[{path:"",component:D},{path:":id",loadChildren:()=>e.e(4333).then(e.bind(e,4333)).then(i=>i.AllDsrModule)}];class b{}b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=t.oAB({type:b}),b.\u0275inj=t.cJS({imports:[r.Bz.forChild(Y),r.Bz]});var L=e(1898),$=e(8088);const z=[v.QW,_.lN,T.c,O.LD,k.ot,x.To,Z.FA,P.XK,k.ot,N.p9,F.rK];class C{}C.\u0275fac=function(o){return new(o||C)},C.\u0275mod=t.oAB({type:C}),C.\u0275inj=t.cJS({imports:[a.ez,b,L.E,I.d,L.E,l.UX,$.s,z]})},3814:(A,g,e)=>{e.d(g,{B:()=>r});var a=e(4650);class r{transform(f,c){if(!Array.isArray(f))return[];if(!c||"string"!=typeof c.value)return f;const h=c.value.trim().toLowerCase();return[...f].filter(u=>Object.keys(u).some(t=>String(u[t]).toLowerCase().includes(h)))}}r.\u0275fac=function(f){return new(f||r)},r.\u0275pipe=a.Yjl({name:"optionsFilter",type:r,pure:!1})},9244:(A,g,e)=>{e.d(g,{D:()=>r});var a=e(4650);class r{constructor(){this.referredCandidate=[],this.leaveDetail={},this.dsrDetail=[],this.trainingRequest=[]}}r.\u0275fac=function(f){return new(f||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})},5786:(A,g,e)=>{e.d(g,{m:()=>c});var a=e(4006),r=e(1498);var f=e(4650);class c{constructor(){this.VALIDATION={emptyControl:[],required:[a.kI.required],name:[a.kI.required,a.kI.pattern(r.t.name),a.kI.minLength(3),a.kI.maxLength(80)],last_name:[a.kI.pattern(r.t.last_name)],address:[a.kI.pattern(r.t.address)],month:[],year:[],skill:[a.kI.maxLength(500)],phone:[a.kI.pattern(r.t.phoneNumber),a.kI.minLength(10),a.kI.maxLength(10)],email:[a.kI.required,a.kI.pattern(r.t.email),a.kI.maxLength(100)],password:[a.kI.required,a.kI.pattern(r.t.password),a.kI.minLength(8),a.kI.maxLength(15)],createPassword:[a.kI.required,a.kI.pattern(r.t.passRegex),a.kI.minLength(8),a.kI.maxLength(15)]}}minMaxDateValidator(u,t){return l=>{const m=l.value;return m&&(m<u||m>t)?{minMaxDateInvalid:{value:l.value}}:null}}birthdayValidator(u,t){return l=>{const m=new Date(l.value),p=new Date;let M=p.getFullYear()-m.getFullYear();return m.setFullYear(p.getFullYear()),m>p&&(m.setFullYear(p.getFullYear()-1),M--),M<u||M>t?{birthdayInvalid:{value:l.value}}:null}}numberRangeValidator(u,t){return l=>{const m=l.value;if(null==m||""===m)return null;const p=Number(m);return isNaN(p)||p<u||p>t?{numberRange:!0}:null}}dateRangeValidator(u){const t=u.get("date_from").value,l=u.get("date_to").value;return t&&l&&new Date(t)>new Date(l)?{invalidDateRange:!0}:null}}c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=f.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}}]);