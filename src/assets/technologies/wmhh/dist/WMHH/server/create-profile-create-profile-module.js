exports.ids=[12],exports.modules={IKo7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NumberOnlyModule}));var _angular_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("SVse"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("8Y7J");class NumberOnlyModule{}NumberOnlyModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Jc({type:NumberOnlyModule}),NumberOnlyModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Ic({factory:function NumberOnlyModule_Factory(t){return new(t||NumberOnlyModule)},imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_0__.c]]})},QttI:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CreateProfileModule",(function(){return CreateProfileModule}));var common=__webpack_require__("SVse"),fesm2015_router=__webpack_require__("iInd"),tslib=__webpack_require__("zOht"),Subscription=__webpack_require__("quSY"),app_constant=__webpack_require__("yG5I"),routes=__webpack_require__("+7By"),core=__webpack_require__("8Y7J"),fesm2015_dialog=__webpack_require__("iELJ");class DeleteAccountPopupComponent{constructor(dialogRef){this.dialogRef=dialogRef}ngOnInit(){}close(){this.dialogRef.close()}accept(){this.dialogRef.close(!0)}}DeleteAccountPopupComponent.\u0275fac=function DeleteAccountPopupComponent_Factory(t){return new(t||DeleteAccountPopupComponent)(core.Lc(fesm2015_dialog.g))},DeleteAccountPopupComponent.\u0275cmp=core.Fc({type:DeleteAccountPopupComponent,selectors:[["app-delete-account-popup"]],decls:24,vars:0,consts:[[1,"popup-wrapper"],[1,"popup-inner"],[1,"popup-description"],[1,"confirm-msg"],[1,"mb-15"],[1,"action-btn"],["type","button",1,"cancel",3,"click"],["type","button",1,"delete-btn",3,"click"]],template:function DeleteAccountPopupComponent_Template(rf,ctx){1&rf&&(core.Qc(0,"div",0),core.Qc(1,"div",1),core.Qc(2,"h3"),core.Gd(3,"Delete Account"),core.Pc(),core.Qc(4,"div",2),core.Qc(5,"p",3),core.Gd(6,"Are you sure you want to delete your account?"),core.Pc(),core.Qc(7,"p",4),core.Gd(8," Your data will be "),core.Qc(9,"strong"),core.Gd(10,"permanently removed and"),core.Mc(11,"br"),core.Gd(12,"we cannot recover it."),core.Pc(),core.Pc(),core.Qc(13,"p"),core.Gd(14," This includes all history of your registered "),core.Mc(15,"br"),core.Gd(16,"courses, bookmarked resources and any "),core.Mc(17,"br"),core.Gd(18,"personalized recommendations. "),core.Pc(),core.Pc(),core.Qc(19,"div",5),core.Qc(20,"button",6),core.Xc("click",(function DeleteAccountPopupComponent_Template_button_click_20_listener(){return ctx.close()})),core.Gd(21,"Cancel"),core.Pc(),core.Qc(22,"button",7),core.Xc("click",(function DeleteAccountPopupComponent_Template_button_click_22_listener(){return ctx.accept()})),core.Gd(23," Delete My Account "),core.Pc(),core.Pc(),core.Pc(),core.Pc())},styles:[".popup-wrapper[_ngcontent-%COMP%]{padding:25px 0 15px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:30px;font-weight:700;line-height:41px;text-align:center;color:#000}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:18px;line-height:23px;text-align:center;color:#000;font-weight:400;margin-bottom:0}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   p.confirm-msg[_ngcontent-%COMP%]{font-weight:700;color:#d55827}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   p.mb-15[_ngcontent-%COMP%]{margin-bottom:10px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding:35px 0 0}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{width:186px;border:1px solid #575868;border-radius:100px;color:#575868;background:#fff;margin-right:7px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%], .popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{height:45px;font-size:18px;line-height:25px;text-align:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:212px;border:1px solid #f52a2a;border-radius:100px;font-weight:700;color:#fff;background:#f52a2a;margin-left:8px}"]});var fesm2015_forms=__webpack_require__("s7LF");class OtpDirective{constructor(_elRef,_renderer){this._elRef=_elRef,this._renderer=_renderer}ngOnInit(){this.disabledNumberOnly||this._renderer.setAttribute(this._elRef.nativeElement,"onkeypress","return (event.charCode >= 48 && event.charCode <= 57) || event.charCode == 0")}}OtpDirective.\u0275fac=function OtpDirective_Factory(t){return new(t||OtpDirective)(core.Lc(core.v),core.Lc(core.Y))},OtpDirective.\u0275dir=core.Gc({type:OtpDirective,selectors:[["","otp",""]],inputs:{disabledNumberOnly:"disabledNumberOnly"}});class KeysPipe{transform(value){return Object.keys(value)}}function OtpBoxComponent_div_0_input_1_Template(rf,ctx){if(1&rf){const _r5=core.Rc();core.Qc(0,"input",3),core.Xc("keydown",(function OtpBoxComponent_div_0_input_1_Template_input_keydown_0_listener($event){core.ud(_r5);return core.bd(2).onKeyDown($event)}))("keyup",(function OtpBoxComponent_div_0_input_1_Template_input_keyup_0_listener($event){core.ud(_r5);const i_r3=ctx.index;return core.bd(2).onKeyUp($event,i_r3)})),core.Pc()}if(2&rf){const item_r2=ctx.$implicit,i_r3=ctx.index,ctx_r1=core.bd(2);core.Cc("otp-input ",ctx_r1.config.inputClass,""),core.kd("id","otp_",i_r3,"_",ctx_r1.componentKey,""),core.id("pattern",ctx_r1.config.allowNumbersOnly?"\\d*":"")("type",ctx_r1.inputType)("placeholder",(null==ctx_r1.config?null:ctx_r1.config.placeholder)||"")("disabledNumberOnly",!ctx_r1.config.allowNumbersOnly)("ngStyle",ctx_r1.config.inputStyles)("formControl",ctx_r1.otpForm.controls[item_r2])}}function OtpBoxComponent_div_0_Template(rf,ctx){if(1&rf&&(core.Qc(0,"div",1),core.Ed(1,OtpBoxComponent_div_0_input_1_Template,1,11,"input",2),core.cd(2,"keys"),core.Pc()),2&rf){const ctx_r0=core.bd();core.Cc("wrapper ",ctx_r0.config.containerClass,""),core.jd("id","c_",ctx_r0.componentKey,""),core.id("ngStyle",ctx_r0.config.containerStyles),core.Ac(1),core.id("ngForOf",core.dd(2,6,null==ctx_r0.otpForm?null:ctx_r0.otpForm.controls))}}KeysPipe.\u0275fac=function KeysPipe_Factory(t){return new(t||KeysPipe)},KeysPipe.\u0275pipe=core.Kc({name:"keys",type:KeysPipe,pure:!0});class otp_box_component_OtpBoxComponent{constructor(){this.config={length:4},this.onInputChange=new core.x,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}ngOnInit(){this.otpForm=new fesm2015_forms.h({});for(let index=0;index<this.config.length;index++)this.otpForm.addControl(this.getControlName(index),new fesm2015_forms.e);this.inputType=this.getInputType()}ngAfterViewInit(){if(!this.config.disableAutoFocus){const containerItem=document.getElementById("c_"+this.componentKey);if(containerItem){containerItem.addEventListener("paste",evt=>this.handlePaste(evt));const ele=containerItem.getElementsByClassName("otp-input")[0];ele&&ele.focus&&ele.focus()}}}resetOtp(){for(let control in this.otpForm.controls)this.otpForm.controls[control].setValue(null);const containerItem=document.getElementById("c_"+this.componentKey);if(containerItem){const ele=containerItem.getElementsByClassName("otp-input")[0];ele&&ele.focus&&ele.focus()}}getControlName(idx){return"ctrl_"+idx}ifLeftArrow(event){return this.ifKeyCode(event,37)}ifRightArrow(event){return this.ifKeyCode(event,39)}ifBackspaceOrDelete(event){return"Backspace"===event.key||"Delete"===event.key||this.ifKeyCode(event,8)||this.ifKeyCode(event,46)}ifKeyCode(event,targetCode){return(event.keyCode||event.charCode)==targetCode}onKeyDown($event){if(this.ifKeyCode($event,32))return!1}onKeyUp($event,inputIdx){const nextInputId=this.appendKey("otp_"+(inputIdx+1)),prevInputId=this.appendKey("otp_"+(inputIdx-1));if(this.ifRightArrow($event))return void this.setSelected(nextInputId);if(this.ifLeftArrow($event))return void this.setSelected(prevInputId);if(this.ifBackspaceOrDelete($event)&&!$event.target.value)return this.setSelected(prevInputId),void this.rebuildValue();$event.target.value&&(this.ifValidEntry($event)&&this.setSelected(nextInputId),this.rebuildValue())}appendKey(id){return`${id}_${this.componentKey}`}setSelected(eleId){this.focusTo(eleId);const ele=document.getElementById(eleId);ele&&ele.setSelectionRange&&setTimeout(()=>{ele.setSelectionRange(0,1)},0)}ifValidEntry(event){const inp=String.fromCharCode(event.keyCode);return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(inp)||this.config.allowKeyCodes&&this.config.allowKeyCodes.includes(event.keyCode)||event.keyCode>=96&&event.keyCode<=105}focusTo(eleId){const ele=document.getElementById(eleId);ele&&ele.focus()}setValue(value){if(this.config.allowNumbersOnly&&isNaN(value))return;if(this.otpForm.reset(),!value)return void this.rebuildValue();value=value.toString().replace(/\s/g,""),Array.from(value).forEach((c,idx)=>{this.otpForm.get(this.getControlName(idx))&&this.otpForm.get(this.getControlName(idx)).setValue(c)});const containerItem=document.getElementById("c_"+this.componentKey),indexOfElementToFocus=value.length<this.config.length?value.length:this.config.length-1,ele=containerItem.getElementsByClassName("otp-input")[indexOfElementToFocus];ele&&ele.focus&&ele.focus(),this.rebuildValue()}rebuildValue(){let val="";Object.keys(this.otpForm.controls).forEach(k=>{this.otpForm.controls[k].value&&(val+=this.otpForm.controls[k].value)}),console.log(val),this.onInputChange.emit(val)}getInputType(){return this.config.isPasswordInput?"password":this.config.allowNumbersOnly?"tel":"text"}handlePaste(e){let pastedData;const clipboardData=e.clipboardData||window.clipboardData;clipboardData&&(pastedData=clipboardData.getData("Text")),e.stopPropagation(),e.preventDefault(),pastedData&&this.setValue(pastedData)}}otp_box_component_OtpBoxComponent.\u0275fac=function OtpBoxComponent_Factory(t){return new(t||otp_box_component_OtpBoxComponent)},otp_box_component_OtpBoxComponent.\u0275cmp=core.Fc({type:otp_box_component_OtpBoxComponent,selectors:[["app-otp-box"]],inputs:{config:"config"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["otp","","maxlength","1","autocomplete","off",3,"pattern","type","placeholder","disabledNumberOnly","ngStyle","class","formControl","id","keydown","keyup",4,"ngFor","ngForOf"],["otp","","maxlength","1","autocomplete","off",3,"pattern","type","placeholder","disabledNumberOnly","ngStyle","formControl","id","keydown","keyup"]],template:function OtpBoxComponent_Template(rf,ctx){1&rf&&core.Ed(0,OtpBoxComponent_div_0_Template,3,8,"div",0),2&rf&&core.id("ngIf",null==ctx.otpForm?null:ctx.otpForm.controls)},directives:[common.m,common.n,common.l,fesm2015_forms.b,OtpDirective,fesm2015_forms.k,fesm2015_forms.s,fesm2015_forms.o,fesm2015_forms.f],pipes:[KeysPipe],styles:[".wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width:767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width:420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}.otp-input[_ngcontent-%COMP%]{border:1px solid #d2d2d2;font-size:32px;font-weight:700;text-align:center;color:#333;width:33%;height:60px;border-radius:4px;width:70px!important;height:70px!important}.box_wrapper[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center;margin-top:20px}.box_wrapper[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.wrapper[_ngcontent-%COMP%]{-ms-flex-pack:justify;justify-content:space-between}[_nghost-%COMP%]     .cstm_input_field .mat-form-field{width:60px;margin:0 10px}[_nghost-%COMP%]     .cstm_input_field .mat-input-element{margin-top:-.0625em;font-size:32px;font-weight:500;letter-spacing:-.64px;color:#333;text-align:center;font-family:Circular Std,sans-serif}"]});var account_service=__webpack_require__("oX63"),utility_service=__webpack_require__("A1CT"),icon=__webpack_require__("Tj54"),form_field=__webpack_require__("Q2Ze");function OtpVerificationComponent_ng_container_1_Template(rf,ctx){if(1&rf){const _r4=core.Rc();core.Oc(0),core.Qc(1,"div",2),core.Qc(2,"button",3),core.Xc("click",(function OtpVerificationComponent_ng_container_1_Template_button_click_2_listener(){core.ud(_r4);return core.bd().close()})),core.Qc(3,"mat-icon",4),core.Gd(4,"close"),core.Pc(),core.Pc(),core.Pc(),core.Qc(5,"p"),core.Gd(6,"We sent a 6 digit "),core.Mc(7,"br"),core.Gd(8,"verification code to"),core.Pc(),core.Qc(9,"h3"),core.Gd(10),core.Pc(),core.Qc(11,"mat-label"),core.Gd(12,"Enter that code here to continue"),core.Pc(),core.Qc(13,"app-otp-box",5,6),core.Xc("onInputChange",(function OtpVerificationComponent_ng_container_1_Template_app_otp_box_onInputChange_13_listener($event){core.ud(_r4);return core.bd().onOtpChange($event)})),core.Pc(),core.Qc(15,"div",7),core.Qc(16,"button",8),core.Xc("click",(function OtpVerificationComponent_ng_container_1_Template_button_click_16_listener(){core.ud(_r4);return core.bd().verifyOtp()})),core.Gd(17," Continue "),core.Pc(),core.Pc(),core.Qc(18,"div",9),core.Xc("click",(function OtpVerificationComponent_ng_container_1_Template_div_click_18_listener(){core.ud(_r4);return core.bd().resendOtp()})),core.Qc(19,"a"),core.Gd(20,"Resend Otp"),core.Pc(),core.Pc(),core.Nc()}if(2&rf){const ctx_r0=core.bd();core.Ac(10),core.Hd(null==ctx_r0.dialogData?null:ctx_r0.dialogData.phoneNo),core.Ac(3),core.id("config",ctx_r0.config),core.Ac(3),core.id("disabled",!ctx_r0.otp||ctx_r0.otp.length!=ctx_r0.config.length)}}function OtpVerificationComponent_ng_container_2_Template(rf,ctx){if(1&rf){const _r9=core.Rc();core.Oc(0),core.Qc(1,"div",10),core.Qc(2,"h3"),core.Gd(3,"Great! Thanks for verifying your"),core.Mc(4,"br"),core.Gd(5,"phone number!"),core.Pc(),core.Pc(),core.Qc(6,"div",7),core.Qc(7,"button",11),core.Xc("click",(function OtpVerificationComponent_ng_container_2_Template_button_click_7_listener(){core.ud(_r9);return core.bd().close()})),core.Gd(8," Continue "),core.Pc(),core.Pc(),core.Nc()}}class otp_verification_component_OtpVerificationComponent{constructor(dialogData,dialogRef,accountService,utility){this.dialogData=dialogData,this.dialogRef=dialogRef,this.accountService=accountService,this.utility=utility,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"50px",height:"50px"}},this.otpVerified=!1}ngOnInit(){}onOtpChange(event){console.log("OTP Event",event),this.otp=event,console.log(this.otp)}close(){this.dialogRef.close(this.otpVerified)}verifyOtp(){return Object(tslib.__awaiter)(this,void 0,void 0,(function*(){const payload={otp:this.otp,otpTimeStamp:this.dialogData.otpTimeStamp};try{let{data:data}=yield this.accountService.verifyOtp(payload);data&&(this.otpVerified=!0,this.otpBox.resetOtp())}catch(error){}}))}resendOtp(){return Object(tslib.__awaiter)(this,void 0,void 0,(function*(){try{let{data:data,message:message}=yield this.accountService.sendOtp();this.dialogData=data,this.otpBox.resetOtp(),this.utility.showAlert("OTP resent successfully")}catch(error){}}))}}otp_verification_component_OtpVerificationComponent.\u0275fac=function OtpVerificationComponent_Factory(t){return new(t||otp_verification_component_OtpVerificationComponent)(core.Lc(fesm2015_dialog.a),core.Lc(fesm2015_dialog.g),core.Lc(account_service.a),core.Lc(utility_service.a))},otp_verification_component_OtpVerificationComponent.\u0275cmp=core.Fc({type:otp_verification_component_OtpVerificationComponent,selectors:[["app-otp-verification"]],viewQuery:function OtpVerificationComponent_Query(rf,ctx){var _t;(1&rf&&core.Ld(otp_box_component_OtpBoxComponent,!0),2&rf)&&(core.pd(_t=core.Yc())&&(ctx.otpBox=_t.first))},decls:3,vars:2,consts:[[1,"otp-wrapper"],[4,"ngIf"],[1,"header"],[1,"close-btn",3,"click"],["aria-hidden","false","aria-label","Example home icon"],[3,"config","onInputChange"],["ngOtpInput",""],[1,"btn-wrap"],["type","submit",1,"primary-btn",3,"disabled","click"],[1,"wrong",3,"click"],[1,"otp-success"],["type","submit",1,"primary-btn",3,"click"]],template:function OtpVerificationComponent_Template(rf,ctx){1&rf&&(core.Qc(0,"div",0),core.Ed(1,OtpVerificationComponent_ng_container_1_Template,21,3,"ng-container",1),core.Ed(2,OtpVerificationComponent_ng_container_2_Template,9,0,"ng-container",1),core.Pc()),2&rf&&(core.Ac(1),core.id("ngIf",!ctx.otpVerified),core.Ac(1),core.id("ngIf",ctx.otpVerified))},directives:[common.m,icon.a,form_field.g,otp_box_component_OtpBoxComponent],styles:[".otp-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;background:#eef3f7;margin:-24px;padding:24px;border-radius:5px}.otp-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;height:30px;margin-bottom:25px;position:relative}.otp-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;position:absolute;right:0;top:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;transition:.3s ease-in;background:rgba(0,0,0,0)}.otp-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e6e6e6}.otp-wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:red}.otp-wrapper[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:20px}.otp-wrapper[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5}.otp-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#4c4c4c}.otp-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .otp-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px;line-height:1.2;font-weight:700;margin-bottom:25px;text-align:center}.otp-wrapper[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-size:24px;line-height:1.2;color:#4c4c4c;margin-bottom:15px}.otp-wrapper[_ngcontent-%COMP%]   .input-wrp[_ngcontent-%COMP%]{width:300px;margin:0 auto}.otp-wrapper[_ngcontent-%COMP%]   .wrong[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;line-height:1.2;color:#5551ff;text-decoration:underline}.otp-wrapper[_ngcontent-%COMP%]   .otp-success[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:50px 0 80px}"]});var form_service=__webpack_require__("md+p"),s3=__webpack_require__("tegk"),environment=__webpack_require__("AytR"),loader_service=__webpack_require__("5dVO");class file_upload_service_FileUploadService{constructor(loaderService){this.loaderService=loaderService,this.bucket=new s3({accessKeyId:environment.a.config.AWS_ACCESS_KEY,secretAccessKey:environment.a.config.AWS_SECRET_KEY,region:environment.a.config.AWS_REGION})}uploadFile(fileToUpload,loader=!0){return Object(tslib.__awaiter)(this,void 0,void 0,(function*(){try{const params={Bucket:environment.a.config.AWS_BUCKET,Key:fileToUpload.name||(new Date).getTime()+".png",Body:fileToUpload,ACL:"public-read"};loader&&this.loaderService.loader.next(!0);let self=this;return new Promise((resolve,reject)=>{this.bucket.upload(params,(function(err,data){if(err)return loader&&self.loaderService.loader.next(!1),reject(err),!1;loader&&self.loaderService.loader.next(!1),resolve(data)})).on("httpUploadProgress",progress=>{})})}catch(err){loader&&this.loaderService.loader.next(!1)}}))}uploadMultipleFiles(files){return Object(tslib.__awaiter)(this,void 0,void 0,(function*(){try{this.loaderService.loader.next(!0);const data=[];for(let i=0;i<files.length;i++)data.push(this.uploadFile(files[i],!1));const result=yield Promise.all(data);return this.loaderService.loader.next(!1),Promise.resolve(result)}catch(err){return this.loaderService.loader.next(!1),Promise.reject(err)}}))}}file_upload_service_FileUploadService.\u0275fac=function FileUploadService_Factory(t){return new(t||file_upload_service_FileUploadService)(core.Uc(loader_service.a))},file_upload_service_FileUploadService.\u0275prov=core.Hc({token:file_upload_service_FileUploadService,factory:file_upload_service_FileUploadService.\u0275fac,providedIn:"root"});var input=__webpack_require__("e6WT"),number_only_directive=__webpack_require__("nEYI"),fesm2015_select=__webpack_require__("ZTz/"),fesm2015_core=__webpack_require__("UhP/"),validation_error_pipe=__webpack_require__("IEde"),get_control_pipe=__webpack_require__("AgBJ");function CreateProfileComponent_mat_option_66_Template(rf,ctx){if(1&rf&&(core.Qc(0,"mat-option",29),core.Gd(1),core.Pc()),2&rf){const goal_r3=ctx.$implicit;core.id("value",goal_r3._id),core.Ac(1),core.Hd(goal_r3.goalName)}}function CreateProfileComponent_mat_option_76_Template(rf,ctx){if(1&rf&&(core.Qc(0,"mat-option",29),core.Gd(1),core.Pc()),2&rf){const sector_r4=ctx.$implicit;core.id("value",sector_r4._id),core.Ac(1),core.Hd(sector_r4.sectorName)}}const _c0=function(){return["firstName"]},_c1=function(){return["lastName"]},_c2=function(){return["email"]},_c3=function(){return["phoneNumber"]},_c4=function(){return["goals"]},_c5=function(){return["sectors"]};class create_profile_component_CreateProfileComponent{constructor(accountService,fb,formService,utility,router,dialog,fileUploadService){this.accountService=accountService,this.fb=fb,this.formService=formService,this.utility=utility,this.router=router,this.dialog=dialog,this.fileUploadService=fileUploadService,this.goals=[],this.sectors=[],this.timeArray=[...app_constant.n],this.imgUrl=null,this.imgFile=null,this.userProfile=null,this.sub=new Subscription.a,this.getGoalsAndSectors(),this.preferencesForm=this.createPreferencesForm(),this.getUserProfile(!0)}ngOnDestroy(){this.sub.unsubscribe()}ngOnInit(){this.utility.$title.next(null)}getUserProfile(refresh=!1){this.utility.getProfileDetail(refresh).then(data=>{console.log(data),this.userProfile=data,this.preferencesForm.patchValue(this.userProfile),this.preferencesForm.get("goals").patchValue(this.userProfile.goals),this.preferencesForm.get("sectors").patchValue(this.userProfile.sectors),this.userProfile.profilePictureData&&this.userProfile.profilePictureData[0]&&(this.imgUrl=this.userProfile.profilePictureData[0].url)})}createPreferencesForm(){return this.fb.group({email:this.formService.getControl("email"),firstName:this.formService.getControl("name",!1),lastName:this.formService.getControl("name",!1),phoneNumber:this.formService.getControl("phone",!1),goals:this.formService.getControl("dropdown",!1),sectors:this.formService.getControl("dropdown",!1)})}getGoalsAndSectors(){return Object(tslib.__awaiter)(this,void 0,void 0,(function*(){try{const res=yield Promise.all([this.accountService.getGoalsListing(),this.accountService.getSectorsListing()]),{data:goals}=res[0];this.goals=[...goals];const{data:sectors}=res[1];this.sectors=[...sectors]}catch(error){console.log(error)}}))}handleKeyDown(event){const inputValue=event.target.value;"Backspace"!=event.key&&inputValue.length>=10&&event.preventDefault()}preview(files){if(0!==files.length)if(null!=files[0].type.match(/image\/*/)){this.imgFile=files[0];var reader=new FileReader;reader.readAsDataURL(files[0]),reader.onload=_event=>{this.imgUrl=reader.result},console.log(this.imgFile)}else this.utility.showAlert("Only images are supported")}savePreferences(){return Object(tslib.__awaiter)(this,void 0,void 0,(function*(){if(!this.preferencesForm.invalid)if(this.imgFile){console.log("new image");let{Location:Location}=yield this.fileUploadService.uploadFile(this.imgFile);if(console.log(Location),this.imgFile=null,this.preferencesForm.valid){let payload=Object.assign(Object.assign({},this.preferencesForm.value),{profilePicture:Location});""==payload.phoneNumber&&delete payload.phoneNumber,this.userProfile.profilePicture&&this.userProfile.profilePictureData&&(payload.oldProfilePictureId=this.userProfile.profilePicture),delete payload.email;let res=yield this.accountService.savePreferences(payload);res&&(this.utility.showAlert(res.message),this.getUserProfile(!0),this.router.navigate([routes.DASHBOARD.fullUrl]))}}else if(console.log("old or no im,age"),this.preferencesForm.valid){let payload=Object.assign({},this.preferencesForm.value);""==payload.phoneNumber&&delete payload.phoneNumber,this.userProfile.profilePicture&&this.userProfile.profilePictureData&&(payload.profilePicture=this.userProfile.profilePictureData[0].url),delete payload.email;let res=yield this.accountService.savePreferences(payload);res&&(this.utility.showAlert(res.message),this.getUserProfile(!0),this.router.navigate([routes.DASHBOARD.fullUrl]))}}))}verifyNumber(){return Object(tslib.__awaiter)(this,void 0,void 0,(function*(){if(console.log(this.userProfile),this.userProfile.phoneNumber)try{let{data:data}=yield this.accountService.sendOtp();if(data){const dialogRef=this.dialog.open(otp_verification_component_OtpVerificationComponent,{width:"560px",autoFocus:!1,disableClose:!0,data:data});this.utility.showAlert("OTP sent successfully"),this.sub.add(dialogRef.afterClosed().subscribe(success=>{success&&this.getUserProfile(!0)}))}}catch(error){}else this.utility.showAlert("Please save  phone number to continue")}))}deleteAccount(){const dialogRef=this.dialog.open(DeleteAccountPopupComponent,{width:"582px",autoFocus:!1,restoreFocus:!1});this.sub.add(dialogRef.afterClosed().subscribe(success=>Object(tslib.__awaiter)(this,void 0,void 0,(function*(){if(success){let{message:message}=yield this.accountService.deleteAccount();this.utility.clearStorage(),this.utility.showAlert(message),location.reload()}}))))}}create_profile_component_CreateProfileComponent.\u0275fac=function CreateProfileComponent_Factory(t){return new(t||create_profile_component_CreateProfileComponent)(core.Lc(account_service.a),core.Lc(fesm2015_forms.d),core.Lc(form_service.a),core.Lc(utility_service.a),core.Lc(fesm2015_router.c),core.Lc(fesm2015_dialog.b),core.Lc(file_upload_service_FileUploadService))},create_profile_component_CreateProfileComponent.\u0275cmp=core.Fc({type:create_profile_component_CreateProfileComponent,selectors:[["app-create-profile"]],decls:89,vars:57,consts:[[3,"formGroup"],[1,"create-profile"],[1,"container"],[1,"back-and-welcome"],[1,"flex"],[1,"col-12"],[1,"upload-picture"],[1,"upload-wrap"],["onerror","this.src = 'assets/images/user-placeholder.png'","alt","Image",3,"src"],["tabindex","0",1,"change-image"],["src","assets/images/icons/icon_edit.svg","alt","Icon",3,"click"],["for","upload-image"],["hidden","","type","file","accept","image/*",3,"change"],["file",""],[1,"col-6"],["appearance","outline",1,"example-full-width"],["formControlName","firstName","matInput",""],["formControlName","lastName","matInput",""],["readonly","","formControlName","email","matInput",""],["formControlName","phoneNumber","numberOnly","","matInput","",3,"keydown"],["appearance","outline"],["formControlName","goals",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],["formControlName","sectors",3,"multiple"],[1,"btn-wrap"],["type","submit",1,"primary-btn",3,"click"],[1,"send-code","red"],["tabindex","0",3,"click"],["src","assets/images/TRASH-ALT.svg","alt","Icon"],[3,"value"]],template:function CreateProfileComponent_Template(rf,ctx){if(1&rf){const _r5=core.Rc();core.Qc(0,"form",0),core.Qc(1,"div",1),core.Qc(2,"div",2),core.Qc(3,"div",3),core.Qc(4,"h1"),core.Gd(5),core.cd(6,"titlecase"),core.Pc(),core.Pc(),core.Qc(7,"div",4),core.Qc(8,"div",5),core.Qc(9,"div",6),core.Qc(10,"div",7),core.Qc(11,"figure"),core.Mc(12,"img",8),core.Pc(),core.Qc(13,"a",9),core.Qc(14,"img",10),core.Xc("click",(function CreateProfileComponent_Template_img_click_14_listener(){core.ud(_r5);return core.qd(17).click()})),core.Pc(),core.Pc(),core.Pc(),core.Qc(15,"label",11),core.Qc(16,"input",12,13),core.Xc("change",(function CreateProfileComponent_Template_input_change_16_listener(){core.ud(_r5);const _r0=core.qd(17);return ctx.preview(_r0.files)})),core.Pc(),core.Pc(),core.Pc(),core.Pc(),core.Pc(),core.Qc(18,"h3"),core.Gd(19,"Account Information"),core.Pc(),core.Qc(20,"div",4),core.Qc(21,"div",14),core.Qc(22,"mat-label"),core.Gd(23,"First Name"),core.Pc(),core.Qc(24,"mat-form-field",15),core.Mc(25,"input",16),core.Qc(26,"mat-error"),core.Gd(27),core.cd(28,"validate"),core.cd(29,"getControl"),core.Pc(),core.Pc(),core.Pc(),core.Qc(30,"div",14),core.Qc(31,"mat-label"),core.Gd(32,"Last Name"),core.Pc(),core.Qc(33,"mat-form-field",15),core.Mc(34,"input",17),core.Qc(35,"mat-error"),core.Gd(36),core.cd(37,"validate"),core.cd(38,"getControl"),core.Pc(),core.Pc(),core.Pc(),core.Pc(),core.Qc(39,"div",4),core.Qc(40,"div",14),core.Qc(41,"mat-label"),core.Gd(42,"Email"),core.Pc(),core.Qc(43,"mat-form-field",15),core.Mc(44,"input",18),core.Qc(45,"mat-error"),core.Gd(46),core.cd(47,"validate"),core.cd(48,"getControl"),core.Pc(),core.Pc(),core.Pc(),core.Qc(49,"div",14),core.Qc(50,"mat-label"),core.Gd(51,"Phone Number"),core.Pc(),core.Qc(52,"mat-form-field",15),core.Qc(53,"input",19),core.Xc("keydown",(function CreateProfileComponent_Template_input_keydown_53_listener($event){return ctx.handleKeyDown($event)})),core.Pc(),core.Qc(54,"mat-error"),core.Gd(55),core.cd(56,"validate"),core.cd(57,"getControl"),core.Pc(),core.Pc(),core.Pc(),core.Pc(),core.Qc(58,"h3"),core.Gd(59,"Resource Preferences"),core.Pc(),core.Qc(60,"div",4),core.Qc(61,"div",14),core.Qc(62,"mat-label"),core.Gd(63,"Goal"),core.Pc(),core.Qc(64,"mat-form-field",20),core.Qc(65,"mat-select",21),core.Ed(66,CreateProfileComponent_mat_option_66_Template,2,2,"mat-option",22),core.Pc(),core.Qc(67,"mat-error"),core.Gd(68),core.cd(69,"validate"),core.cd(70,"getControl"),core.Pc(),core.Pc(),core.Pc(),core.Qc(71,"div",14),core.Qc(72,"mat-label"),core.Gd(73,"Sector"),core.Pc(),core.Qc(74,"mat-form-field",20),core.Qc(75,"mat-select",23),core.Ed(76,CreateProfileComponent_mat_option_76_Template,2,2,"mat-option",22),core.Pc(),core.Qc(77,"mat-error"),core.Gd(78),core.cd(79,"validate"),core.cd(80,"getControl"),core.Pc(),core.Pc(),core.Pc(),core.Pc(),core.Qc(81,"div",24),core.Qc(82,"button",25),core.Xc("click",(function CreateProfileComponent_Template_button_click_82_listener(){return ctx.savePreferences()})),core.Gd(83," Save Profile "),core.Pc(),core.Qc(84,"div",26),core.Qc(85,"a",27),core.Xc("click",(function CreateProfileComponent_Template_a_click_85_listener(){return ctx.deleteAccount()})),core.Mc(86,"img",28),core.Qc(87,"span"),core.Gd(88," Delete My Account"),core.Pc(),core.Pc(),core.Pc(),core.Pc(),core.Pc(),core.Pc(),core.Pc()}2&rf&&(core.id("formGroup",ctx.preferencesForm),core.Ac(5),core.Id(" Welcome back, ",ctx.userProfile&&null!=ctx.userProfile&&ctx.userProfile.firstName?core.dd(6,13,null==ctx.userProfile?null:ctx.userProfile.firstName):"User"," "),core.Ac(7),core.id("src",ctx.imgUrl,core.xd),core.Ac(15),core.Hd(core.ed(28,15,core.ed(29,18,ctx.preferencesForm,core.ld(51,_c0)),"First Name")),core.Ac(9),core.Hd(core.ed(37,21,core.ed(38,24,ctx.preferencesForm,core.ld(52,_c1)),"Last Name")),core.Ac(10),core.Hd(core.ed(47,27,core.ed(48,30,ctx.preferencesForm,core.ld(53,_c2)),"Email")),core.Ac(9),core.Hd(core.ed(56,33,core.ed(57,36,ctx.preferencesForm,core.ld(54,_c3)),"Phone Number")),core.Ac(10),core.id("multiple",!0),core.Ac(1),core.id("ngForOf",ctx.goals),core.Ac(2),core.Hd(core.ed(69,39,core.ed(70,42,ctx.preferencesForm,core.ld(55,_c4)),"Goal")),core.Ac(7),core.id("multiple",!0),core.Ac(1),core.id("ngForOf",ctx.sectors),core.Ac(2),core.Hd(core.ed(79,45,core.ed(80,48,ctx.preferencesForm,core.ld(56,_c5)),"Sector")))},directives:[fesm2015_forms.v,fesm2015_forms.p,fesm2015_forms.i,form_field.g,form_field.c,fesm2015_forms.b,input.a,fesm2015_forms.o,fesm2015_forms.g,form_field.b,number_only_directive.a,fesm2015_select.a,common.l,fesm2015_core.g],pipes:[common.u,validation_error_pipe.a,get_control_pipe.a],styles:[".create-profile[_ngcontent-%COMP%]{padding:140px 0;background:url(create-profile-bg.5ff78dae7b70c3c4af6c.png) bottom}.create-profile[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:30px;line-height:41px;margin:15px 0}.create-profile[_ngcontent-%COMP%]   .back-and-welcome[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:d-din_condenseddinCnBd;font-size:40px;line-height:52.13px;color:#000;margin:15px 0 25px}.create-profile[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{padding:25px 0 0;text-align:center;-ms-flex-pack:justify;justify-content:space-between}.create-profile[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%], .create-profile[_ngcontent-%COMP%]   .send-code[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.create-profile[_ngcontent-%COMP%]   .send-code[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.create-profile[_ngcontent-%COMP%]   .upload-picture[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:15px}.create-profile[_ngcontent-%COMP%]   .upload-picture[_ngcontent-%COMP%]   .upload-wrap[_ngcontent-%COMP%]{width:100px;height:100px;position:relative}.create-profile[_ngcontent-%COMP%]   .upload-picture[_ngcontent-%COMP%]   .upload-wrap[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;overflow:hidden}.create-profile[_ngcontent-%COMP%]   .upload-picture[_ngcontent-%COMP%]   .upload-wrap[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;-o-object-fit:cover;object-fit:cover;-o-object-position:center center;object-position:center center}.create-profile[_ngcontent-%COMP%]   .upload-picture[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:14px;font-weight:700;line-height:17px;color:#60ace5;margin:0 0 0 10px;display:inline-block}.create-profile[_ngcontent-%COMP%]   .upload-picture[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;opacity:0;display:none}.change-image[_ngcontent-%COMP%]{position:absolute;bottom:-5px;right:-10px;z-index:8}.change-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:0!important}.send-code[_ngcontent-%COMP%]{margin-bottom:15px}.send-code[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,sans-serif;color:#f52a2a}.send-code.red[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;line-height:25px;color:#f52a2a}.verified[_ngcontent-%COMP%]{color:green}.unverified[_ngcontent-%COMP%], .verified[_ngcontent-%COMP%]{padding:5px;font-size:14px;font-weight:600;display:-ms-flexbox;display:flex;position:relative;top:-5px;-ms-flex-align:center;align-items:center}.unverified[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]     .flex .col-6{margin:0!important}[_nghost-%COMP%]     .create-profile mat-label{font-size:18px;line-height:25px;color:#000}[_nghost-%COMP%]     .create-profile .primary-btn{width:240px;text-align:center;background:#e7825b;font-size:18px;line-height:25px}"]});const create_profile_routing_module_routes=[{path:"",component:create_profile_component_CreateProfileComponent}];class CreateProfileRoutingModule{}CreateProfileRoutingModule.\u0275mod=core.Jc({type:CreateProfileRoutingModule}),CreateProfileRoutingModule.\u0275inj=core.Ic({factory:function CreateProfileRoutingModule_Factory(t){return new(t||CreateProfileRoutingModule)},imports:[[fesm2015_router.g.forChild(create_profile_routing_module_routes)],fesm2015_router.g]});var number_only_module=__webpack_require__("IKo7"),validation_error_pipe_module=__webpack_require__("3V+5"),get_control_module=__webpack_require__("zFkK");class KeysModule{}KeysModule.\u0275mod=core.Jc({type:KeysModule}),KeysModule.\u0275inj=core.Ic({factory:function KeysModule_Factory(t){return new(t||KeysModule)},imports:[[common.c]]});class OtpDirectiveModule{}OtpDirectiveModule.\u0275mod=core.Jc({type:OtpDirectiveModule}),OtpDirectiveModule.\u0275inj=core.Ic({factory:function OtpDirectiveModule_Factory(t){return new(t||OtpDirectiveModule)},imports:[[common.c]]});var fesm2015_button=__webpack_require__("Dxy4");class OtpBoxModule{}OtpBoxModule.\u0275mod=core.Jc({type:OtpBoxModule}),OtpBoxModule.\u0275inj=core.Ic({factory:function OtpBoxModule_Factory(t){return new(t||OtpBoxModule)},providers:[],imports:[[common.c,input.b,KeysModule,OtpDirectiveModule,fesm2015_forms.j,fesm2015_forms.t,fesm2015_button.b,KeysModule]]});class CreateProfileModule{}CreateProfileModule.\u0275mod=core.Jc({type:CreateProfileModule}),CreateProfileModule.\u0275inj=core.Ic({factory:function CreateProfileModule_Factory(t){return new(t||CreateProfileModule)},imports:[[common.c,CreateProfileRoutingModule,form_field.e,input.b,fesm2015_select.b,fesm2015_forms.t,number_only_module.a,validation_error_pipe_module.a,get_control_module.a,icon.b,OtpBoxModule,fesm2015_dialog.f]]})},nEYI:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NumberOnlyDirective}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8Y7J");class NumberOnlyDirective{constructor(){this.autocomplete="off",this.allowDecimal=!1}onKeyDown(e){-1!==[46,8,9,27,13,...this.allowDecimal?[190]:[]].indexOf(e.keyCode)||65===e.keyCode&&!0===e.ctrlKey||88===e.keyCode&&!0===e.ctrlKey||65===e.keyCode&&!0===e.metaKey||88===e.keyCode&&!0===e.metaKey||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}}NumberOnlyDirective.\u0275fac=function NumberOnlyDirective_Factory(t){return new(t||NumberOnlyDirective)},NumberOnlyDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gc({type:NumberOnlyDirective,selectors:[["","numberOnly",""]],hostVars:1,hostBindings:function NumberOnlyDirective_HostBindings(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc("keydown",(function NumberOnlyDirective_keydown_HostBindingHandler($event){return ctx.onKeyDown($event)})),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Bc("autocomplete",ctx.autocomplete)},inputs:{allowDecimal:"allowDecimal"}})}};