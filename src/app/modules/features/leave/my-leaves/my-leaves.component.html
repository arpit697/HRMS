<div class="leave-cards-grid">
  <mat-card class="card" *ngFor="let item of employeeLeaves">
    <mat-icon class="icon">event</mat-icon>
    <div>
      <mat-card-subtitle>{{
        item.type + item.claimed + "/" + item.total
      }}</mat-card-subtitle>
      <mat-card-subtitle>{{ item.type }}</mat-card-subtitle>
    </div>
  </mat-card>
</div>
<br />
<br />
<mat-expansion-panel [disabled]="true" [expanded]="panelOpenState" hideToggle>
  <mat-expansion-panel-header>
    <mat-panel-title class="table-title"> Add Leave </mat-panel-title>
    <div class="flex ai-center jc-center">
      <button (click)="togglePanel()" mat-button class="add-button">
        + Add
      </button>
    </div>
  </mat-expansion-panel-header>
  <div [formGroup]="leaveForm" class="expansion p-24">
    <div>
      <div>
        <mat-card-subtitle class="c-label">Leave Type</mat-card-subtitle>
        <mat-form-field class="form-field" appearance="outline">
          <mat-select formControlName="leave_type">
            <mat-option *ngFor="let type of leaveType" value="{{ type }}">{{
              type
            }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div
        *ngIf="leaveForm.get('leave_type')?.value == 'Short Leaves'"
        class="flex g-1 ai-center"
      >
        <div>
          <mat-card-subtitle class="c-label">Start Time</mat-card-subtitle>
          <mat-form-field appearance="outline">
            <input matInput [ngxTimepicker]="start_time" readonly />
            <ngx-material-timepicker #start_time></ngx-material-timepicker>
          </mat-form-field>
        </div>
        <div>
          <mat-card-subtitle class="c-label">End Time</mat-card-subtitle>
          <mat-form-field appearance="outline">
            <input matInput [ngxTimepicker]="end_time" readonly />
            <ngx-material-timepicker #end_time></ngx-material-timepicker>
          </mat-form-field>
        </div>
      </div>
      <div
        *ngIf="!(leaveForm.get('leave_type')?.value == 'Short Leaves')"
        class="flex flex-wrap g-3 ai-center check-box-radio"
      >
        <mat-checkbox formControlName="isChecked">Half Day ?</mat-checkbox>
        <mat-radio-group
          formControlName="half_day"
          class="radio-group flex g-1 p-8"
          aria-label="Select an option"
          *ngIf="leaveForm.get('isChecked')?.value == true"
        >
          <mat-radio-button value="1">1st Half</mat-radio-button>
          <mat-radio-button value="2">2nd Half</mat-radio-button>
        </mat-radio-group>
      </div>
      <div class="date-grid">
        <div>
          <mat-card-subtitle class="c-label">Start Date</mat-card-subtitle>
          <mat-form-field appearance="outline">
            <input
              formControlName="start_day"
              matInput
              [matDatepicker]="startDate"
              readonly
            />
            <mat-datepicker-toggle
              matIconSuffix
              [for]="startDate"
            ></mat-datepicker-toggle>
            <mat-datepicker #startDate></mat-datepicker>
          </mat-form-field>
        </div>
        <div>
          <mat-card-subtitle class="c-label">End Date</mat-card-subtitle>
          <mat-form-field appearance="outline">
            <input
              formControlName="end_day"
              matInput
              [matDatepicker]="endDate"
              readonly
            />
            <mat-datepicker-toggle
              matIconSuffix
              [for]="endDate"
            ></mat-datepicker-toggle>
            <mat-datepicker #endDate></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
      <div>
        <mat-card-subtitle class="c-label">Remarks</mat-card-subtitle>
        <mat-form-field appearance="outline">
          <input formControlName="remark" matInput type="text" />
        </mat-form-field>
      </div>

      <div>
        <mat-card-subtitle class="c-label">Upload Document</mat-card-subtitle>
        <mat-card class="custom-file-input-container">
          <input
            class="custom-file-input"
            (change)="getDocument($event)"
            type="file"
          />
        </mat-card>
      </div>
    </div>
    <div>
      <mat-card-subtitle class="c-label">Description</mat-card-subtitle>
      <ckeditor formControlName="detail" [config]="editorConfig"></ckeditor>
    </div>
    <mat-card-actions class="g-2">
      <button mat-raised-button (click)="submitHandler()" class="add">
        Add
      </button>
      <button mat-raised-button (click)="cancelHandler()" class="cancel">
        Cancel
      </button>
    </mat-card-actions>
  </div>
</mat-expansion-panel>
<br />
<mat-card>
  <mat-card-title class="table-title"> List All Leaves </mat-card-title>
  <app-ru-table
    class="p-12"
    [tableColumns]="tableColumns"
    [tableData]="tableData"
    [TableClass]="'my-leave-table'"
    (clickHandler)="editDelete($event)"
    [isPageable]="true"
  ></app-ru-table>
</mat-card>
